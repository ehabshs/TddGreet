'use strict';

const program = require('commander');
const relativeToRoot = require('../lib/utils/relative-to-root');

program.version(require('../package').version)
  .option('--staging <server>', 'staging server (i.e. pizza)')
  .option('--host <server>', 'host address')
  .option('--pom <path>', 'pom file of artifact', relativeToRoot('pom.xml'))
  .parse(process.argv);

require('../lib/petri-specs').update({
  staging: program.staging,
  host: program.host,
  pom: program.pom,
  version: program.args[0]
});
